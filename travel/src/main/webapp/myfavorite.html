<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!--网站图标-->
  <link rel="shortcut icon" href="img/icons8-旅行者徽章-16.png"/>
  <title>黑马旅游网-我的收藏</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/common.css">
  <link rel="stylesheet" href="css/index.css">
  <style>
    .tab-content .row > div {
      margin-top: 16px;
    }

    .tab-content {
      margin-bottom: 36px;
    }
  </style>
  <script src="js/jquery-3.3.1.js"></script>
</head>
<body>
<!--引入头部-->
<div id="header"></div>
<!-- 排行榜 start-->
<section id="content">
  <section class="hemai_jx">
    <div class="jx_top">
      <div class="jx_tit">
        <img src="images/icon_5.jpg" alt="">
        <span>我的收藏</span>
      </div>
    </div>
    <div class="jx_content">
      <!-- Tab panes -->
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="home">
          <div class="row" id="row">
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="route_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
            <div class="col-md-3">
              <a href="jroute_detail.html">
                <img src="images/collection_pic.jpg" alt="">
                <div class="has_border">
                  <h3>上海直飞三亚5天4晚自由行(春节预售+亲子/蜜月/休闲游首选+豪华酒店任选+接送机)</h3>
                  <div class="price">网付价<em>￥</em><strong>889</strong><em>起</em></div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="pageNum">
      <ul id="pageNum">
        <li><a href="">首页</a></li>
        <li class="threeword"><a href="#">上一页</a></li>
        <li><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li><a href="#">6</a></li>
        <li><a href="#">7</a></li>
        <li><a href="#">8</a></li>
        <li><a href="#">9</a></li>
        <li><a href="#">10</a></li>
        <li class="threeword"><a href="javascript:;">下一页</a></li>
        <li class="threeword"><a href="javascript:;">末页</a></li>
      </ul>
    </div>
  </section>
</section>
<!-- 排行榜 end-->

<!--引入尾部-->
<div id="footer"></div>
<!--导入布局js，共享header和footer-->
<script type="text/javascript" src="js/include.js"></script>
<script src="js/getParameter.js"></script>
<script>
  $(function () {
    load();
  });

  function load(currentPage) {
    $.get("route/myFavorite", {currentPage: currentPage}, function (pb) {
      var lis = "";

      var fristPage = '<li onclick="javascipt:load(1)"><a href="javascript:void(0)">首页</a></li>';

      //计算上一页的页码
      var beforeNum = pb.currentPage - 1;
      if (beforeNum <= 0) {
        beforeNum = 1;
      }

      var beforePage = '<li  onclick="javascipt:load(beforeNum)" class="threeword"><a href="javascript:void(0)">上一页</a></li>';

      lis += fristPage;
      lis += beforePage;

      for (var i = 1; i <= pb.totalPage; i++) {
        var li;
        //判断当前页码是否等于i
        if (pb.currentPage == i) {
          li = '<li class="curPage" onclick="javascipt:load('+i+')"><a href="javascript:void(0)">' + i
              + '</a></li>';

        } else {
          //创建页码的li
          li = '<li onclick="javascipt:load('+i+')"><a href="javascript:void(0)">' + i + '</a></li>';
        }
        //拼接字符串
        lis += li;
      }
      //2.列表数据展示
      var route_divs = "";

      for (var i = 0; i < pb.list.length; i++) {
        //获取{rid:1,rname:"xxx"}
        var route = pb.list[i];
        var div = '<div class="col-md-3">\n'
            + '              <a href="route_detail.html?rid='+route.rid+'">\n'
            + '                <img src="'+route.rimage+'" alt="">\n'
            + '                <div class="has_border">\n'
            + '                  <h3>'+route.rname+'</h3>\n'
            + '                  <div class="price">网付价<em>￥</em><strong>' + route.price + '</strong><em>起</em></div>\n'
            + '                </div>\n'
            + '              </a>\n'
            + '            </div>';
        route_divs+=div;
      }
      $("#row").html(route_divs);
      //末页
      var lastPage = '<li onclick="javascipt:load(pb.totalPage )"><a href="javascript:void(0)">末页</a></li>';

      //计算下一页的页码
      var nextNum = pb.currentPage + 1;
      if (nextNum >= pb.totalPage) {
        nextNum = pb.totalPage;
      }

      var nextPage = '<li  onclick="javascipt:load(nextNum)" class="threeword"><a href="javascript:void(0)">下一页</a></li>';

      lis += nextPage;
      lis += lastPage;
      //将lis内容设置到 ul
      $("#pageNum").html(lis);
    });
  }

</script>
</body>
</html>